<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>
    
    Novidades do PHP7 (Alpha Version)
    
  </title>
  <meta name="description" content="  ">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/favicon.ico">

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/syntax.css">

  <script src="/js/highlight.js"></script>
  <script src="/js/jquery.min.js"></script>

  <link rel="canonical" href="http://cristianounix.github.io//php/2015/06/29/php7-alpha-novidades/">

</head>

<body class="home-template grey lighten-5">

    
<nav id="toolbar" class="navbar navbar-inverse navbar-fixed-top" style="position:fixed; z-index: 10;">
   <div class="nav-wrapper blue">
     <ul id="nav-mobile" class="left hide-on-med-and-down">
       <li><a href="http://twitter.com/cristianounix" target="_blank"><i class="fa fa-twitter-square"></i></a></li>
       <li><a href="http://github.com/cristianounix" target="_blank"><i class="fa fa-github-square"></i></a></li>
       <li><a href="http://instagram.com/cristianounix" target="_blank"><i class="fa fa-instagram"></i></a></li>
       <li><a href="http://br.linkedin.com/in/cristianounix/" target="_blank"><i class="fa fa-linkedin-square"></i></a></li>
       <li><a href="/about"><i class="fa fa-user"></i></a></li>
     </ul>

     <a href="/" class="brand-logo center">
       <img src="/img/cristianounix-mustache.png" alt="" />
     </a>

     <a href="#" data-activates="mobile-menu-top" class="button-collapse"><i class="material-icons">menu</i></a>

     <ul class="left side-nav" id="mobile-menu-top">
       <li><a href="http://twitter.com/cristianounix" target="_blank">Twitter</a></li>
       <li><a href="http://github.com/cristianounix" target="_blank">Github</a></li>
       <li><a href="http://instagram.com/cristianounix" target="_blank">Instagram</a></li>
       <li><a href="http://br.linkedin.com/in/cristianounix/" target="_blank">Linkedin</a></li>
       <li><a href="/about">Sobre mim</a></li>
     </ul>
   </div>
 </nav>


    <main class="content" role="main">

  <section id="blog-intro" class="cyan section z-depth-1 article-intro" style="background-image:url('https://d262ilb51hltx0.cloudfront.net/max/2000/1*278tqw9zNPe2WCAz29Wzdw.jpeg');"></section>

  <section id="main-inner-container" class="container">
    <article class="post tag-webdev tag-gruntjs tag-javascript tag-nodejs card-panel z-depth-1 article-container">
      <header>
        <time class="post-date grey-text" datetime="2015-06-29 00:00:00 -0300"><i class="fa fa-clock-o"></i> 29 June 2015</time>
        <h1>Novidades do PHP7 (Alpha Version)</h1>
          <div class="tag-cloud">
            <span>
                <i class="mdi-maps-local-offer"></i>
                
            </span>
          </div>
      </header>
      <section class="post-content">
        <p style="text-align: center;">
  <img src="/img/posts/php7-is-coming.png" alt="PHP7" />
</p>

<p>Bem se você achava o PHP rápido eu tenho algo pra te dizer, ele está 2 vezes mais rápido !!</p>

<ul>
  <li>A versão 7 é até duas vezes mais rápido que o PHP 5.6</li>
  <li>Suporte de 64 bits consistente</li>
  <li>Muitos erros fatais são agora Exceções</li>
  <li>Remoção de SAPIs e extensões antigas e sem suporte</li>
  <li>O operador nulo coalescente (??)</li>
  <li>Operador de comparação combinada (&lt;=&gt;)</li>
  <li>Declarações do tipo de retorno</li>
  <li>Declarações tipo escalar</li>
  <li>Classes anônimos</li>
</ul>

<p>Vamos a alguns exemplos desses caras acima:</p>

<h4 id="coalesce-operator">Coalesce Operator</h4>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="k">false</span> <span class="o">??</span> <span class="s1">&#39;B&#39;</span><span class="p">;</span> <span class="c1">// B</span>
<span class="k">echo</span> <span class="k">null</span> <span class="o">??</span> <span class="s1">&#39;B&#39;</span><span class="p">;</span> <span class="c1">// B</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="mi">2</span> <span class="o">??</span> <span class="mi">3</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="mi">5</span><span class="p">);</span>      <span class="c1">// (2 ?? 3) ? 4 : 5        =&gt; int(4)</span>

<span class="nv">$x1</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="nv">$x2</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="nv">$x3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$x1</span> <span class="o">??</span> <span class="nv">$x2</span> <span class="o">??</span> <span class="nv">$x3</span><span class="p">);</span> <span class="c1">// int(3)</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="mi">0</span> <span class="o">||</span> <span class="mi">2</span> <span class="o">??</span> <span class="mi">3</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// int(4)</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">bla</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;Testando&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="k">true</span> <span class="o">??</span> <span class="nx">bla</span><span class="p">());</span> <span class="c1">// bool(true)</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h4 id="operador-de-comparao-combinada">Operador de comparação combinada</h4>

<p>Retornos:</p>

<ul>
  <li>0 se são iguais</li>
  <li>1 se o da esquerda é o maior</li>
  <li>-1 se o da direita é o maior</li>
</ul>

<p>Ou seja: [ &lt;, &lt;=, ==, &gt;=, &gt; ]</p>

<p>Exemplos:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Integers</span>
<span class="k">echo</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 0</span>
<span class="k">echo</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// -1</span>
<span class="k">echo</span> <span class="mi">2</span> <span class="o">&lt;=&gt;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 1</span>

<span class="c1">// Floats</span>
<span class="k">echo</span> <span class="mf">1.5</span> <span class="o">&lt;=&gt;</span> <span class="mf">1.5</span><span class="p">;</span> <span class="c1">// 0</span>
<span class="k">echo</span> <span class="mf">1.5</span> <span class="o">&lt;=&gt;</span> <span class="mf">2.5</span><span class="p">;</span> <span class="c1">// -1</span>
<span class="k">echo</span> <span class="mf">2.5</span> <span class="o">&lt;=&gt;</span> <span class="mf">1.5</span><span class="p">;</span> <span class="c1">// 1</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Strings</span>
<span class="k">echo</span> <span class="s2">&quot;a&quot;</span> <span class="o">&lt;=&gt;</span> <span class="s2">&quot;a&quot;</span><span class="p">;</span> <span class="c1">// 0</span>
<span class="k">echo</span> <span class="s2">&quot;a&quot;</span> <span class="o">&lt;=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">;</span> <span class="c1">// -1</span>
<span class="k">echo</span> <span class="s2">&quot;b&quot;</span> <span class="o">&lt;=&gt;</span> <span class="s2">&quot;a&quot;</span><span class="p">;</span> <span class="c1">// 1</span>
<span class="k">echo</span> <span class="s2">&quot;a&quot;</span> <span class="o">&lt;=&gt;</span> <span class="s2">&quot;aa&quot;</span><span class="p">;</span> <span class="c1">// -1</span>
<span class="k">echo</span> <span class="s2">&quot;zz&quot;</span> <span class="o">&lt;=&gt;</span> <span class="s2">&quot;aa&quot;</span><span class="p">;</span> <span class="c1">// 1</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Arrays</span>
<span class="k">echo</span> <span class="p">[]</span> <span class="o">&lt;=&gt;</span> <span class="p">[];</span> <span class="c1">// 0</span>
<span class="k">echo</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span> <span class="c1">// 0</span>
<span class="k">echo</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[];</span> <span class="c1">// 1</span>
<span class="k">echo</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// 1</span>
<span class="k">echo</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span> <span class="c1">// -1</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Objects</span>
<span class="nv">$a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="nv">$b</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="k">echo</span> <span class="nv">$a</span> <span class="o">&lt;=&gt;</span> <span class="nv">$b</span><span class="p">;</span> <span class="c1">// 0</span>
 
<span class="nv">$a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="nv">$b</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;c&quot;</span><span class="p">];</span> 
<span class="k">echo</span> <span class="nv">$a</span> <span class="o">&lt;=&gt;</span> <span class="nv">$b</span><span class="p">;</span> <span class="c1">// -1</span>
 
<span class="nv">$a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;c&quot;</span><span class="p">];</span> 
<span class="nv">$b</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="k">echo</span> <span class="nv">$a</span> <span class="o">&lt;=&gt;</span> <span class="nv">$b</span><span class="p">;</span> <span class="c1">// 1</span>
 
<span class="c1">// only values are compared</span>
<span class="nv">$a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="nv">$b</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span><span class="p">];</span> 
<span class="k">echo</span> <span class="nv">$a</span> <span class="o">&lt;=&gt;</span> <span class="nv">$b</span><span class="p">;</span> <span class="c1">// 0</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h4 id="declaraes-do-tipo-de-retorno">Declarações do tipo de retorno</h4>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">get_config</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">get_config</span><span class="p">();</span>
 
<span class="k">function</span> <span class="nf">answer</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">answer</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h4 id="declaraes-tipo-escalar">Declarações tipo escalar</h4>

<p>Para que tenha uma rigorosa checkagem de tipos é necessário ativar, basta fazer:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>Logo no inicio do arquivo, depois disso todas as funções e metodos que estão nesse arquivo serão rigorosamente verificadas.</p>

<p>Exemplos:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">soma</span><span class="p">(</span><span class="nx">float</span> <span class="nv">$a</span><span class="p">,</span> <span class="nx">float</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">;</span>
<span class="p">}</span> 
<span class="nx">soma</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// float(3)</span>
<span class="nx">soma</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">);</span> <span class="c1">// float(3.3)</span>
<span class="nx">soma</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">);</span> <span class="c1">// Erro - a non well formed numeric value encountered </span>
 
<span class="k">function</span> <span class="nf">soma</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$a</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">;</span>
<span class="p">}</span> 
<span class="nx">soma</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span> <span class="c1">// float(30)</span>
<span class="nx">soma</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">);</span> <span class="c1">// Erro - Argument 1 passed to soma() must be of the type integer, string given</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<h4 id="anonymous-class">Anonymous Class</h4>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="k">new</span> <span class="nx">class</span><span class="p">(</span><span class="nv">$i</span><span class="p">)</span> <span class="p">{</span>
		    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$i</span><span class="p">)</span> <span class="p">{</span>
		        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">i</span> <span class="o">=</span> <span class="nv">$i</span><span class="p">;</span>
		    <span class="p">}</span>
		<span class="p">});</span>


<span class="nv">$bla</span><span class="o">-&gt;</span><span class="na">setMsg</span><span class="p">(</span><span class="k">new</span> <span class="k">class</span> <span class="err">{</span>
<span class="x">				  public function log() {</span>
<span class="x">				    echo &quot;Oi galerinha !&quot;;</span>
<span class="x">				  }</span>
<span class="x">				});</span>
<span class="x">?&gt;</span></code></pre></div>

<p><a href="https://wiki.php.net/rfc#php_70">PHP7 Doc</a></p>


        <p>
          
        </p>
      </section>


      <footer>
        <section id="social-share">
          <p>
            Compartilhar: <br>
            <a href="http://twitter.com/share?text=&amp;url=" target="_new" class="btn-floating white cyan-text darken-2" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><i class="fa fa-twitter cyan-text darken-2"></i></a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" class="btn-floating white cyan-text"><i class="fa fa-facebook cyan-text darken-2"></i></a>
            <a href="https://plus.google.com/share?url=" class="btn-floating white cyan-text darken-2" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;"><i class="fa fa-google-plus cyan-text darken-2 "></i></a>
          </p>
        </section>
        <!-- Disqus Comments -->
        <section class="comments">
          <div id="disqus_thread"></div>
              <script type="text/javascript">
                  var disqus_shortname = 'cristianounix';
                  (function() {
                      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
              </script>
              <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </section>
      </footer>
    </article>
  </section>
</main>


  <footer class="site-footer clearfix">

  </footer>

  
<script src="/js/EasePack.min.js"></script>
<script src="/js/TweenLite.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/main.js"></script>



</body>

</html>